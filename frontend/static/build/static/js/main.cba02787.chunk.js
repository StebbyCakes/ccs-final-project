(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{136:function(e,t,n){},203:function(e,t,n){},343:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(53),s=n.n(r),c=n(40),o=(n(203),n(35)),d=n.n(o),u=n(71),l=n(20),h=n(21),b=n(10),p=n(22),j=n(23),m=(n(136),n(18)),g=n.n(m),f=n(26),O=n(1),v=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={username:"",email:"",password1:"",password2:""},a.handleInput=a.handleInput.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"handleInput",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleRegistration(this.state)}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(O.jsx)("input",{onChange:this.handleInput,type:"text",className:"form-control",id:"username",name:"username"})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(O.jsx)("input",{onChange:this.handleInput,type:"email",className:"form-control",id:"email",name:"email"})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"password1",className:"form-label",children:"Password"}),Object(O.jsx)("input",{onChange:this.handleInput,type:"password",className:"form-control",id:"password1",name:"password1"})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"password2",className:"form-label",children:"Confirm Password"}),Object(O.jsx)("input",{onChange:this.handleInput,type:"password",className:"form-control",id:"password2",name:"password2"})]}),Object(O.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){return e.props.handleNavigation("login")},children:"Login"}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"REGISTER"})]})}}]),n}(a.Component),x=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={username:"",email:"",password:""},a.handleInput=a.handleInput.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"handleInput",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleLogin(this.state)}},{key:"render",value:function(){return Object(O.jsxs)("form",{className:"login-form",onSubmit:this.handleSubmit,children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(O.jsx)("input",{onChange:this.handleInput,type:"text",className:"form-control",id:"username",name:"username"})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(O.jsx)("input",{onChange:this.handleInput,type:"email",className:"form-control",id:"email",name:"email"})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(O.jsx)("input",{onChange:this.handleInput,type:"password",className:"form-control",id:"password",name:"password"})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-success",children:"Login"})]})}}]),n}(a.Component),I=n(41),y=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={name:"",price_per_pound:"",start_date:new Date},a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.handleInput=a.handleInput.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,price_listings:[{price_per_pound:parseFloat(this.state.price_per_pound).toFixed(2),start_date:this.state.start_date}]};this.props.addIngredient(t),this.setState({name:"",price_per_pound:"",start_date:new Date})}},{key:"handleInput",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{className:"ingredient-form",onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{type:"text",name:"name",value:this.state.name,placeholder:"Enter ingredient name",onChange:this.handleInput}),Object(O.jsx)("input",{type:"text",name:"price_per_pound",value:this.state.price_per_pound,placeholder:"Enter price per pound",onChange:this.handleInput}),Object(O.jsx)("button",{className:"add-ingredient",type:"submit",children:"Create"})]})})}}]),n}(a.Component),k=n(47),S=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state=Object(k.a)(Object(k.a)({},a.props.ingredient),{},{price_per_pound:"",isEditing:!1}),a.editIngredient=a.editIngredient.bind(Object(b.a)(a)),a.handleInput=a.handleInput.bind(Object(b.a)(a)),a.toggleIngredientActiveStatus=a.toggleIngredientActiveStatus.bind(Object(b.a)(a)),a.findCurrentPriceListing=a.findCurrentPriceListing.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.findCurrentPriceListing();this.setState({price_per_pound:e.price_per_pound})}},{key:"componentDidUpdate",value:function(e){if(this.props.ingredient.price_listings.length!==e.ingredient.price_listings.length){var t=this.findCurrentPriceListing();this.setState(Object(k.a)(Object(k.a)({},this.props.ingredient),{},{price_per_pound:t.price_per_pound}))}}},{key:"editIngredient",value:function(){this.setState({isEditing:!1});var e=Object(k.a)({},this.state);delete e.isEditing,delete e.price_per_pound;var t=this.findCurrentPriceListing(),n=e.price_listings.indexOf(t);e.price_listings[n].price_per_pound=parseInt(this.state.price_per_pound),this.props.editIngredient(e)}},{key:"toggleIngredientActiveStatus",value:function(){var e=this.state,t=e.id,n=e.is_active;this.props.toggleIngredientActiveStatus(t,!n),this.setState({is_active:!n})}},{key:"handleInput",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"findCurrentPriceListing",value:function(){return this.props.ingredient.price_listings.reduce((function(e,t){return new Date(e.start_date)>new Date(t.start_date)?e:t}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.price_per_pound,i=t.is_active,r=t.isEditing;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"text",name:"name",value:n,onChange:this.handleInput,disabled:!r})}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"text",name:"price_per_pound",value:a,onChange:this.handleInput,disabled:!r})}),Object(O.jsx)("td",{children:this.state.isEditing?Object(O.jsx)("button",{className:"btn btn-dark",type:"button",onClick:this.editIngredient,children:"Save Edit"}):Object(O.jsx)("button",{className:"btn btn-dark",type:"button",onClick:function(){return e.setState({isEditing:!0})},children:"Edit"})}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{className:"toggle-button",onClick:this.toggleIngredientActiveStatus,children:i?Object(O.jsx)("button",{className:"btn btn-primary",children:"Active"}):Object(O.jsx)("button",{className:"btn btn-danger",children:"Inactive"})})})]})}}]),n}(a.Component),_=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={current_price_per_pound:null,price_per_pound:""},a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.handleInput=a.handleInput.bind(Object(b.a)(a)),a.handleSelect=a.handleSelect.bind(Object(b.a)(a)),a.findCurrentPriceListing=a.findCurrentPriceListing.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"findCurrentPriceListing",value:function(e){return e.price_listings.reduce((function(e,t){return new Date(e.start_date)>new Date(t.start_date)?e:t})).price_per_pound}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=Object(I.a)(this.props.ingredients),n=parseInt(this.state.ingredientId),a=t.findIndex((function(e){return e.id===n})),i=t[a].name,r=t[a].price_listings;r=[{price_per_pound:parseFloat(this.state.price_per_pound).toFixed(2),start_date:new Date}].concat(Object(I.a)(r));var s={id:this.state.ingredientId,name:i,price_listings:r};this.props.editIngredient(s);var c=this.state.price_per_pound;this.setState({current_price_per_pound:c,price_per_pound:""})}},{key:"handleSelect",value:function(e){var t;this.setState((t={},Object(f.a)(t,e.target.name,e.target.value),Object(f.a)(t,"current_price_per_pound",e.target[e.target.selectedIndex].dataset.currentPricePerPound),t))}},{key:"handleInput",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this,t=this.props.ingredients.map((function(t){return Object(O.jsx)("option",{value:t.id,"data-current-price-per-pound":e.findCurrentPriceListing(t),children:t.name},t.id)}));return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{className:"price-change-form",onSubmit:this.handleSubmit,children:[Object(O.jsxs)("select",{type:"text",name:"ingredientId",value:this.state.ingredientId,onChange:this.handleSelect,children:[Object(O.jsx)("option",{value:"select",children:"Select an ingredient"}),t]}),Object(O.jsx)("p",{className:"price-box",children:this.state.current_price_per_pound}),Object(O.jsx)("input",{type:"text",name:"price_per_pound",value:this.state.price_per_pound,placeholder:"Enter price per pound",onChange:this.handleInput}),Object(O.jsx)("button",{className:"add-ingredient",type:"submit",children:"New Price Listing"})]})})}}]),n}(a.Component),N=n(353),C=n(354),w=n(355),M=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={ingredients:[]},a.toggleIngredientActiveStatus=a.toggleIngredientActiveStatus.bind(Object(b.a)(a)),a.editIngredient=a.editIngredient.bind(Object(b.a)(a)),a.fetchIngredients=a.fetchIngredients.bind(Object(b.a)(a)),a.addIngredient=a.addIngredient.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.fetchIngredients()}},{key:"fetchIngredients",value:function(){var e=this;fetch("/api/v1/menu/ingredients/").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(t){return e.setState({ingredients:t})}))}},{key:"toggleIngredientActiveStatus",value:function(e,t){var n=this;console.log("status",t);var a={method:"PATCH",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify({is_active:t})};fetch("/api/v1/menu/ingredients/".concat(e,"/"),a).then((function(a){if(!a.ok)throw new Error("Network response was not ok");var i=Object(I.a)(n.state.ingredients),r=i.findIndex((function(t){return t.id===e}));i[r].is_active=t,n.setState({ingredients:i})}))}},{key:"addIngredient",value:function(e){var t=this,n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(e)};fetch("/api/v1/menu/ingredients/",n).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){var n=[].concat(Object(I.a)(t.state.ingredients),[e]);t.setState({ingredients:n})})).catch()}},{key:"editIngredient",value:function(e){var t=this,n=e.id,a={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(e)};fetch("/api/v1/menu/ingredients/".concat(n,"/"),a).then((function(e){if(!e.ok)throw console.log(e),new Error("Network response was not ok");return e.json()})).then((function(e){var a=Object(I.a)(t.state.ingredients),i=a.findIndex((function(e){return e.id==n}));a[i]=e,t.setState({ingredients:a})}))}},{key:"render",value:function(){var e=this,t=this.state.ingredients.filter((function(e){return e.is_active})),n=this.state.ingredients.map((function(t){return Object(O.jsx)(S,{ingredient:t,toggleIngredientActiveStatus:e.toggleIngredientActiveStatus,editIngredient:e.editIngredient},t.id)}));return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"ingredient-container",children:[Object(O.jsx)("h2",{children:"Create Ingredient"}),Object(O.jsx)(y,{addIngredient:this.addIngredient,ingredients:this.state.ingredients}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a,{className:"accordion-card",children:[Object(O.jsx)(C.a.Header,{className:"accordion-header",children:Object(O.jsx)(N.a.Toggle,{as:w.a,eventKey:"0",children:Object(O.jsx)("span",{className:"accordion-toggle",children:"Update Ingredient Price"})})}),Object(O.jsx)(N.a.Collapse,{eventKey:"0",children:Object(O.jsx)(C.a.Body,{children:Object(O.jsx)(_,{ingredients:t,editIngredient:this.editIngredient})})})]})}),Object(O.jsx)("h2",{className:"ingredient-title",children:"Ingredient List"}),Object(O.jsx)("div",{className:"table-responsive",children:Object(O.jsxs)("table",{class:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"Ingredients"}),Object(O.jsx)("th",{scope:"col",children:"Price"}),Object(O.jsx)("th",{scope:"col",children:"Edit"}),Object(O.jsx)("th",{scope:"col",children:"Active / Inactive"})]})}),Object(O.jsx)("tbody",{children:n})]})})]})})}}]),n}(a.Component),F=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={display_name:"",avatar:null,preview:""},a.handleInput=a.handleInput.bind(Object(b.a)(a)),a.handleImage=a.handleImage.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"handleInput",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleImage",value:function(e){var t=this,n=e.target.files[0];this.setState({avatar:n});var a=new FileReader;a.onloadend=function(){t.setState({preview:a.result})},a.readAsDataURL(n)}},{key:"handleSubmit",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("avatar",this.state.avatar),n.append("display_name",this.state.display_name),n.append("user",this.state.user),a={method:"POST",headers:{"X-CSRFToken":g.a.get("csrftoken")},body:n},e.next=8,fetch("/api/v1/users/profiles/",a);case 8:i=e.sent,console.log(i);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{type:"text",name:"display_name",value:this.state.display_name,onChange:this.handleInput}),Object(O.jsx)("input",{type:"file",name:"avatar",onChange:this.handleImage}),Object(O.jsx)("button",{type:"submit",children:"Save profile!"}),this.state.avatar?Object(O.jsx)("img",{src:this.state.preview,alt:""}):null]})})}}]),n}(a.Component),E=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isEditing:!1,id:a.props.menuitem.id,name:a.props.menuitem.name},a.editMenuItem=a.editMenuItem.bind(Object(b.a)(a)),a.inputMenuItem=a.inputMenuItem.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"editMenuItem",value:function(){this.setState({isEditing:!1});var e={id:this.state.id,name:this.state.name};this.props.editMenuItem(e.id,e.name)}},{key:"inputMenuItem",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this,t=this.props.menuitem;return Object(O.jsxs)("li",{className:"list",children:[this.state.isEditing?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.inputMenuItem})}):Object(O.jsx)("p",{children:this.state.name}),this.state.isEditing?Object(O.jsx)("button",{className:"btn btn-dark",type:"button",onClick:this.editMenuItem,children:"Save Edit"}):Object(O.jsx)("button",{className:"btn btn-dark",type:"button",onClick:function(){return e.setState({isEditing:!0})},children:"Edit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"button",onClick:function(){return e.props.deleteMenuItem(t.id)},children:"x"})]})}}]),n}(a.Component),T=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={availableIngredients:a.props.availableIngredients,preview:"",name:"",menu_price:"",ingredients:{},image:null},a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.handleInput=a.handleInput.bind(Object(b.a)(a)),a.handleIngredient=a.handleIngredient.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.availableIngredients!==e.availableIngredients&&this.setState({availableIngredients:this.props.availableIngredients})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,n={name:t.name,ingredients:t.ingredients,menu_price:t.menu_price};this.props.addMenuItem(n),this.setState({name:"",menu_price:1100,ingredients:{}})}},{key:"handleInput",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleIngredient",value:function(e){var t=Object(k.a)({},this.state.ingredients);""===e.target.value?delete t[e.target.name]:t[e.target.name]=parseInt(e.target.value),this.setState({ingredients:t})}},{key:"render",value:function(){var e,t=this;console.log("here",this.props.availableIngredients);var n=null===(e=this.state.availableIngredients)||void 0===e?void 0:e.map((function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("li",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:e.name,children:e.name}),Object(O.jsx)("input",{type:"text",id:e.name,name:e.name,value:t.state[e.name],placeholder:"Weight in Grams",onChange:t.handleIngredient})]},e.id)})}));return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsxs)("div",{className:"create-menu-box",children:[Object(O.jsx)("input",{type:"text",name:"name",value:this.state.name,placeholder:"Menu Item Name",onChange:this.handleInput}),Object(O.jsx)("input",{type:"text",name:"menu_price",value:this.state.menu_price,placeholder:"Price on Menu",onChange:this.handleInput})]}),Object(O.jsx)("ul",{className:"ingredient-grid",children:n}),Object(O.jsx)("button",{className:"create-menu-button",type:"submit",children:"Create menu item"})]})})}}]),n}(a.Component),P=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={menuitems:[],ingredients:[]},a.deleteMenuItem=a.deleteMenuItem.bind(Object(b.a)(a)),a.editMenuItem=a.editMenuItem.bind(Object(b.a)(a)),a.fetchMenuItems=a.fetchMenuItems.bind(Object(b.a)(a)),a.addMenuItem=a.addMenuItem.bind(Object(b.a)(a)),a.fetchIngredients=a.fetchIngredients.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.fetchMenuItems(),this.fetchIngredients()}},{key:"componentWillUnmount",value:function(){clearInterval(this.retrieveMenuitems)}},{key:"fetchMenuItems",value:function(){var e=this;fetch("/api/v1/menu/").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(t){return e.setState({menuitems:t})}))}},{key:"fetchIngredients",value:function(){var e=this;fetch("/api/v1/menu/ingredients/").then((function(e){return e.json()})).then((function(t){return e.setState({ingredients:t})}))}},{key:"deleteMenuItem",value:function(e){var t=this,n={method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}};fetch("/api/v1/menu/".concat(e),n).then((function(n){var a=Object(I.a)(t.state.menuitems),i=a.findIndex((function(t){return t.id===e}));a.splice(i,1),t.setState({menuitems:a})})).catch((function(e){console.log.error("Error:",e)}))}},{key:"addMenuItem",value:function(e){var t=this,n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(e)};fetch("/api/v1/menu/",n).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){var n=[].concat(Object(I.a)(t.state.menuitems),[e]);t.setState({menuitems:n})})).catch()}},{key:"editMenuItem",value:function(e,t){var n=this,a={id:e,name:t},i={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(a)};fetch("/api/v1/menu/".concat(e,"/"),i).then((function(e){if(!e.ok)throw new Error("Network response was not ok");var t=Object(I.a)(n.state.menuitems);n.setState({menuitems:t})}))}},{key:"render",value:function(){var e=this,t=this.state.menuitems.map((function(t){return Object(O.jsx)(E,{menuitem:t,deleteMenuItem:e.deleteMenuItem,editMenuItem:e.editMenuItem},t.id)}));return Object(O.jsxs)("div",{className:"menu-form",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a,{className:"accordion-card",children:[Object(O.jsx)(C.a.Header,{className:"accordion-header",children:Object(O.jsx)(N.a.Toggle,{as:w.a,eventKey:"0",children:Object(O.jsx)("span",{className:"accordion-toggle",children:"Create a Menu Item"})})}),Object(O.jsx)(N.a.Collapse,{eventKey:"0",children:Object(O.jsx)(C.a.Body,{className:"end-of-form",children:Object(O.jsx)(T,{availableIngredients:this.state.ingredients,addMenuItem:this.addMenuItem})})})]})}),Object(O.jsx)("ul",{className:"container menuitems",children:t})]})}}]),n}(a.Component),L=n(347),D=n(351),A=n(187),R=n(188),J=n(87),U=n(84),X=n(191),z="",K="",B=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={joke:"",menuitems:[],ingredients:[]},a.fetchJoke=a.fetchJoke.bind(Object(b.a)(a)),a.fetchData=a.fetchData.bind(Object(b.a)(a)),a.fetchIngredients=a.fetchIngredients.bind(Object(b.a)(a)),a.calculateMenuItemCost=a.calculateMenuItemCost.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.fetchIngredients()}},{key:"componentWillUnmount",value:function(){clearInterval(this.retrieveMenuitems)}},{key:"fetchData",value:function(){var e=this;fetch("/api/v1/menu/").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(t){return e.setState({menuitems:t})}))}},{key:"fetchIngredients",value:function(){var e=this;fetch("/api/v1/menu/").then((function(e){return e.json()})).then((function(t){return e.setState({ingredients:t})}))}},{key:"fetchJoke",value:function(){fetch("https://api.spoonacular.com/food/jokes/random?apiKey=".concat("7f40aaf07d494a74910b1ac4fcff7357")).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},{key:"calculateMenuItemCost",value:function(e){var t=this;return 0==this.state.ingredients.length?0:e.ingredients.reduce((function(e,n){var a=t.state.ingredients.find((function(e){return e.name==n.name}));return e+.0022046226*parseFloat(n.weight_of_ingredient)*parseFloat(a.price_per_pound)}),0)}},{key:"render",value:function(){var e=this,t=[],n=this.state.menuitems.map((function(n){return z=n.name,K=e.calculateMenuItemCost(n),t.push({name:z,uv:K}),parseFloat(K),Object(O.jsxs)("div",{className:"menuCost",children:[z,Object(O.jsx)("h1",{}),"$",K,Object(O.jsx)("p",{})]})}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:Object(O.jsx)("ul",{children:n})}),Object(O.jsxs)(L.a,{width:1400,height:500,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(O.jsx)(D.a,{strokeDasharray:"3 3"}),Object(O.jsx)(A.a,{dataKey:"name"}),Object(O.jsx)(R.a,{}),Object(O.jsx)(J.a,{}),Object(O.jsx)(U.a,{}),Object(O.jsx)(X.a,{dataKey:"uv",fill:"#82ca9d"})]})]})}}]),n}(a.Component),H=n(25),W=n(125);n(192);var G=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={},a.handleLogin=a.handleLogin.bind(Object(b.a)(a)),a.handleLogout=a.handleLogout.bind(Object(b.a)(a)),a.handleRegistration=a.handleRegistration.bind(Object(b.a)(a)),a.handleNavigation=a.handleNavigation.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"handleLogin",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a,i,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(t)},a=function(e){return console.warn(e)},e.next=4,fetch("/rest-auth/login/",n).catch(a);case 4:if(!(i=e.sent).ok){e.next=11;break}return e.next=8,i.json().catch(a);case 8:r=e.sent,g.a.set("Authorization","Token ".concat(r.key)),this.props.history.push("/ingredientlist");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleRegistration",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a,i,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(t)},a=function(e){return console.warn(e)},e.next=4,fetch("/rest-auth/registration/",n).catch(a);case 4:if(!(i=e.sent).ok){e.next=11;break}return e.next=8,i.json().catch(a);case 8:r=e.sent,g.a.set("Authorization","Token ".concat(r.key)),this.props.history.push("/ingredientlist");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleNavigation",value:function(e){this.setState({selection:e})}},{key:"handleLogout",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}},n=function(e){return console.warn(e)},e.next=4,fetch("/rest-auth/logout/",t).catch(n);case 4:e.sent.ok&&(g.a.remove("Authorization"),this.props.history.push("/"));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(W.a,{className:"navbar-links",children:[!g.a.get("Authorization")&&Object(O.jsx)(c.b,{className:"btn btn-primary",to:"/registration",children:"Registration"}),!g.a.get("Authorization")&&Object(O.jsx)(c.b,{className:"btn btn-primary",to:"/",children:"Login"}),g.a.get("Authorization")&&Object(O.jsx)(c.b,{className:"btn btn-outline-warning",to:"/homepage",children:"Homepage"}),g.a.get("Authorization")&&Object(O.jsx)(c.b,{className:"btn btn-outline-warning",to:"/ingredientlist",children:"Ingredients"}),g.a.get("Authorization")&&Object(O.jsx)(c.b,{className:"btn btn-outline-warning",to:"/menulist",children:"Menu"}),g.a.get("Authorization")&&Object(O.jsx)(c.b,{className:"btn btn-outline-warning",id:"logout-btn",onClick:this.handleLogout,children:"Logout"})]}),Object(O.jsxs)(H.d,{children:[Object(O.jsx)(H.b,{path:"/registration",children:Object(O.jsx)(v,{handleRegistration:this.handleRegistration,handleNavigation:this.handleNavigation})}),Object(O.jsx)(H.b,{exact:!0,path:"/",children:Object(O.jsx)(x,{handleLogin:this.handleLogin,handleNavigation:this.handleNavigation})}),Object(O.jsx)(H.b,{path:"/profile",children:Object(O.jsx)(F,{})}),Object(O.jsx)(H.b,{path:"/ingredientlist",children:Object(O.jsx)(M,{})}),Object(O.jsx)(H.b,{path:"/homepage",children:Object(O.jsx)(B,{})}),Object(O.jsx)(H.b,{path:"/menulist",children:Object(O.jsx)(P,{})})]})]})}}]),n}(a.Component),$=Object(H.g)(G),q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,356)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};n(342);s.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(c.a,{children:Object(O.jsx)($,{})})}),document.getElementById("root")),q()}},[[343,1,2]]]);
//# sourceMappingURL=main.cba02787.chunk.js.map